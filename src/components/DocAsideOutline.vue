<script lang="ts" setup>
import type { MenuItem } from "~/types"

const headers = ref<MenuItem[]>([])
const container = ref()
const marker = ref()
const asideClass = useAsidePos()

onMounted(() => {
  headers.value = getHeaders(2)
})

useActiveAnchor(container, marker)
</script>

<template>
  <div v-if="headers.length" ref="container" class="aside-outline-container hidden text-sm md:block" w-13rem :class="asideClass">
    <div pl-3 font-500>
      In the article
    </div>
    <div class="content b-(l-1 zinc-400/30)">
      <div ref="marker" class="outline-marker absolute left-0 top-8 z3 h-6 w-1px bg-blue opacity-0 transition-top-250" />
      <DocAsideOutlineItem :headers="headers" />
    </div>
  </div>
</template>
